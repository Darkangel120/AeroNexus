<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Reservas - TravelNexus Vuelos en Venezuela</title>
    <link rel="stylesheet" href="../assets/css/dashboard-styles.css">
    <link rel="stylesheet" href="../assets/css/bookings-styles.css">
    <link rel="stylesheet" href="../assets/css/notifications-styles.css">
    <link rel="icon" href="../../assets/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header id="dashboard-header">
        <div class="header-container">
            <div class="header-logo">
                <img src="../../assets/favicon.png" alt="TravelNexus Logo" class="logo-image">
                <span class="logo-text">TravelNexus - Vuelos en Venezuela</span>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="flight-search.html">Buscar Vuelos</a></li>
                    <li><a href="checkin.html">Check-in</a></li>
                </ul>
                <ul>
                    <li class="notifications">
                        <i class="fas fa-bell" id="notification-icon"></i>
                        <span class="notification-badge" id="notification-count">0</span>
                        <div class="notification-dropdown" id="notification-dropdown">
                            <!-- Las notificaciones se poblarán aquí -->
                        </div>
                    </li>
                    <li class="user-menu">
                        <span id="user-name">Oswaldo Gómez</span>
                        <div class="dropdown">
                            <a href="#" id="profile-link">Perfil</a>
                            <a href="#" id="logout-btn">Cerrar Sesión</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="bookings">
            <div class="container">
                <h2 id="bookings-title">Mis Reservas</h2>

                <div class="booking-actions" style=" width: 20px;">
                    <button class="btn-primary" id="create-reservation-btn">
                        <i class="fas fa-plus"></i> Crear Nueva Reserva
                    </button>
                </div>

                <div class="booking-tabs" id="booking-tabs">
                    <button class="tab-btn active" data-tab="upcoming">Próximas</button>
                    <button class="tab-btn" data-tab="past">Pasadas</button>
                    <button class="tab-btn" data-tab="cancelled">Canceladas</button>
                </div>

                <div id="upcoming-bookings" class="booking-section active">
                    <div class="bookings-container">
                        <!-- Las reservas se cargarán dinámicamente desde JavaScript -->
                    </div>
                </div>

                <div id="past-bookings" class="booking-section">
                    <div class="bookings-container">
                        <!-- Las reservas se cargarán dinámicamente desde JavaScript -->
                    </div>
                </div>

                <div id="cancelled-bookings" class="booking-section">
                    <div class="bookings-container">
                        <!-- Las reservas se cargarán dinámicamente desde JavaScript -->
                    </div>
                </div>

                <!-- Sección para crear nueva reserva -->
                <div id="create-reservation-section" class="booking-section" style="display: none;">
                    <div class="reservation-creation-container">
                        <div class="reservation-header">
                            <h3>Crear Nueva Reserva</h3>
                            <button class="btn-secondary back-to-bookings" id="back-to-bookings">
                                <i class="fas fa-arrow-left"></i> Volver a Mis Reservas
                            </button>
                        </div>
                        <form id="reservation-form">
                            <div id="flight-selection-section">
                                <h4>Buscar y Seleccionar Vuelo</h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="modal-origin">Origen *</label>
                                        <input type="text" id="modal-origin" name="modal-origin" placeholder="Ej: CCS" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="modal-destination">Destino *</label>
                                        <input type="text" id="modal-destination" name="modal-destination" placeholder="Ej: MAR" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="modal-departure-date">Fecha de Salida *</label>
                                        <input type="date" id="modal-departure-date" name="modal-departure-date" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="modal-passengers">Pasajeros</label>
                                        <select id="modal-passengers" name="modal-passengers">
                                            <option value="1">1 Pasajero</option>
                                            <option value="2">2 Pasajeros</option>
                                            <option value="3">3 Pasajeros</option>
                                            <option value="4">4 Pasajeros</option>
                                            <option value="5">5+ Pasajeros</option>
                                        </select>
                                    </div>
                                </div>
                                <button type="button" class="btn-secondary" id="search-flights-btn">
                                    <i class="fas fa-search"></i> Buscar Vuelos
                                </button>
                                <p style="margin-top: 1rem; text-align: center;">
                                    <a href="#" id="switch-to-validation" style="color: #007bff; text-decoration: none;">¿Prefieres validar un número de vuelo específico?</a>
                                </p>
                                <div id="flight-results" style="margin-top: 1.5rem; display: none;"></div>
                            </div>

                            <div id="flight-validation-section" style="display: none;">
                                <h4>Validar Vuelo</h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="modal-flight-number">Número de Vuelo *</label>
                                        <input type="text" id="modal-flight-number" name="modal-flight-number" placeholder="Ej: TN123" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="validation-passengers">Pasajeros</label>
                                        <select id="validation-passengers" name="validation-passengers">
                                            <option value="1">1 Pasajero</option>
                                            <option value="2">2 Pasajeros</option>
                                            <option value="3">3 Pasajeros</option>
                                            <option value="4">4 Pasajeros</option>
                                            <option value="5">5+ Pasajeros</option>
                                        </select>
                                    </div>
                                </div>
                                <button type="button" class="btn-secondary" id="validate-flight-btn">
                                    <i class="fas fa-check"></i> Procesar Reserva
                                </button>
                                <div id="flight-validation-message" style="margin-top: 1rem; display: none;"></div>
                            </div>

                            <div id="passenger-details-section" style="display: none;">
                                <h4>Detalles de Pasajeros y Pago</h4>
                                <div id="passenger-forms">
                                    <!-- Formularios de pasajeros y pago se generarán dinámicamente -->
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer id="dashboard-footer">
        <div class="footer-container">
            <div class="footer-logo">
                <img src="../../assets/favicon.png" alt="TravelNexus Icon" class="footer-icon">
                <span>TravelNexus</span>
            </div>
            <div class="footer-info">
                <p>&copy; 2025 TravelNexus - Todos los derechos reservados</p>
                <p>Agencia de Viajes - Tu puerta al mundo</p>
            </div>
        </div>
    </footer>

    <script src="../assets/js/shared-functions.js"></script>
    <script src="../assets/js/bookings-script.js"></script>
    <script src="../assets/js/notifications-script.js"></script>
</body>
</html>
